<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The MedPerturb Dataset</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg-light: #f9fafb;
      --bg-dark: #1f2937;
      --text-light: #1f2937;
      --text-dark: #f3f4f6;
      --accent: #3b82f6;
      --gray-light: #6b7280;
      --gray-dark: #9ca3af;
      --card-bg-light: #ffffff;
      --card-bg-dark: #2d3748;
      --border-light: #e5e7eb;
      --border-dark: #374151;
    }

    [data-theme="light"] {
      --bg: var(--bg-light);
      --text: var(--text-light);
      --gray: var(--gray-light);
      --card-bg: var(--card-bg-light);
      --border: var(--border-light);
    }

    [data-theme="dark"] {
      --bg: var(--bg-dark);
      --text: var(--text-dark);
      --gray: var(--gray-dark);
      --card-bg: var(--card-bg-dark);
      --border: var(--border-dark);
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg);
      color: var(--text);
      margin: 0;
      padding: 2rem;
      transition: background 0.3s, color 0.3s;
    }

    header, section {
      max-width: 960px;
      margin: auto;
      margin-bottom: 3rem;
    }

    h1 {
      font-size: 2.4rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .authors {
      color: var(--gray);
      font-size: 0.95rem;
      margin-bottom: 1.5rem;
    }

    .buttons a {
      display: inline-block;
      margin-right: 1rem;
      margin-bottom: 1rem;
      padding: 0.5rem 1rem;
      background-color: var(--accent);
      color: white;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 600;
    }

    h2 {
      font-size: 1.6rem;
      margin-top: 2rem;
      margin-bottom: 0.5rem;
      border-bottom: 2px solid var(--border);
      padding-bottom: 0.4rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
      background-color: var(--card-bg);
      border-radius: 8px;
      font-size: 0.9rem;
    }

    th, td {
      border: 1px solid var(--border);
      padding: 0.4rem 0.6rem;
      text-align: left;
      vertical-align: top;
    }

    th {
      background-color: rgba(59, 130, 246, 0.1);
    }

    img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin-top: 1rem;
      border: 1px solid var(--border);
    }

    .card {
      background-color: var(--card-bg);
      padding: 1rem 1.5rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      margin-top: 1rem;
    }

    .card a {
      color: var(--accent);
      text-decoration: none;
    }

    footer {
      text-align: center;
      font-size: 0.85rem;
      color: var(--gray);
      margin-top: 4rem;
    }

    details summary {
      cursor: pointer;
      font-weight: 600;
      margin: 1rem 0;
    }

    #theme-toggle {
      float: right;
      background: none;
      border: 1px solid var(--gray);
      color: var(--text);
      padding: 0.3rem 0.7rem;
      border-radius: 5px;
      font-size: 0.9rem;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <header>
    <button id="theme-toggle">Toggle Theme</button>
    <h1>The MedPerturb Dataset</h1>
    <p class="authors">
      Abinitha Gourabathina (MIT), Yuexing Hao (Cornell and MIT), Walter Gerych (MIT), Marzyeh Ghassemi (MIT)<br>
      Contact: <a href="mailto:abinitha@mit.edu">abinitha@mit.edu</a>
    </p>
    <div class="buttons">
      <a href="https://github.com/abinithago/MedPerturb">GitHub</a>
      <a href="https://huggingface.co/datasets/abinitha/MedPerturb">Hugging Face</a>
      <a href="medperturb_metadata.jsonld" download>Download Croissant File</a>
    </div>
  </header>

  <section>
    <details open>
      <summary><h2>Abstract</h2></summary>
      <p>
        Clinical robustness is critical to the safe deployment of medical Large Language Models (LLMs),
        but key questions remain about how LLMs and humans may differ in response to the real-world variability typified by clinical settings.
        To address this, we introduce <strong>MedPerturb</strong>, a dataset designed to systematically evaluate medical LLMs under controlled perturbations of clinical input...
      </p>
    </details>
  </section>

  <section>
    <details>
      <summary><h2>Dataset Structure</h2></summary>
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Original Data Source</th>
            <th>Perturbation</th>
            <th>Clinical Contexts</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>1</td><td rowspan="5">OncQA</td><td>Baseline</td><td>50</td></tr>
          <tr><td>2</td><td>Gender-Swapped</td><td>50</td></tr>
          <tr><td>3</td><td>Gender-Removed</td><td>50</td></tr>
          <tr><td>4</td><td>Uncertain</td><td>50</td></tr>
          <tr><td>5</td><td>Colorful</td><td>50</td></tr>
          <tr><td>6</td><td rowspan="5">r/AskaDocs</td><td>Baseline</td><td>50</td></tr>
          <tr><td>7</td><td>Gender-Swapped</td><td>50</td></tr>
          <tr><td>8</td><td>Gender-Removed</td><td>50</td></tr>
          <tr><td>9</td><td>Uncertain</td><td>50</td></tr>
          <tr><td>10</td><td>Colorful</td><td>50</td></tr>
          <tr><td>11</td><td rowspan="3">USMLE and Derm</td><td>Vignette</td><td>100</td></tr>
          <tr><td>12</td><td>Multiturn</td><td>100</td></tr>
          <tr><td>13</td><td>Conversational</td><td>100</td></tr>
          <tr><td colspan="3" style="text-align:right;"><strong>Total Clinical Contexts</strong></td><td><strong>800</strong></td></tr>
          <tr><td colspan="3" style="text-align:right;"><strong>Treatment Questions</strong></td><td><strong>×3 = 2,400</strong></td></tr>
          <tr><td colspan="3" style="text-align:right;"><strong>Total Human Reads</strong></td><td><strong>×3 = 7,200</strong></td></tr>
          <tr><td colspan="3" style="text-align:right;"><strong>Total LLM Reads</strong></td><td><strong>×4 = 28,800</strong></td></tr>
        </tbody>
      </table>
    </details>
  </section>

  <section>
    <details>
      <summary><h2>Sample Visualization</h2></summary>
      <p>t-SNE plot of LLM responses by perturbation type:</p>
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Tsne_2d_separated_classes.png/640px-Tsne_2d_separated_classes.png" alt="t-SNE Visualization">
    </details>
  </section>

  <section>
    <details>
      <summary><h2>Hugging Face Dataset Card</h2></summary>
      <div class="card">
        <p>
          The MedPerturb dataset contains 800 clinical vignettes systematically perturbed along gender, style, and viewpoint axes.
          Each context has 3 treatment questions and is annotated by humans and LLMs across 4 model types.
        </p>
        <p><strong>Use case:</strong> Robustness testing, fairness auditing, hallucination detection, clinical evaluation</p>
        <p><strong>Format:</strong> JSON, with metadata on perturbation type, model responses, and expert judgments.</p>
      </div>
    </details>
  </section>

  <footer>
    <p>
      © 2025 The MedPerturb Team · 
      <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer">
        CC BY 4.0 License
      </a>
    </p>
    <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">
      <img style="margin-top: 0.5rem;" alt="Creative Commons License" src="https://licensebuttons.net/l/by/4.0/88x31.png" />
    </a>
  </footer>

  <script>
    const toggle = document.getElementById('theme-toggle');
    const html = document.documentElement;
    const currentTheme = localStorage.getItem('theme');

    if (currentTheme) html.setAttribute('data-theme', currentTheme);

    toggle.onclick = () => {
      const theme = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme);
    };
  </script>

</body>
</html>
